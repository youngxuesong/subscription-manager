{"version":3,"file":"index.mjs","sources":["../src/src/IttyRouter.ts","../src/src/Router.ts","../src/src/createResponse.ts","../src/src/json.ts","../src/src/error.ts","../src/src/withParams.ts","../src/src/AutoRouter.ts","../src/src/StatusError.ts","../src/src/status.ts","../src/src/text.ts","../src/src/html.ts","../src/src/jpeg.ts","../src/src/png.ts","../src/src/webp.ts","../src/src/withContent.ts","../src/src/withCookies.ts","../src/src/cors.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["IttyRouter","base","routes","other","__proto__","Proxy","get","target","prop","receiver","path","route","handlers","push","toUpperCase","RegExp","replace","async","request","args","response","match","url","URL","query","k","v","searchParams","concat","method","regex","pathname","params","groups","handler","proxy","Router","t","before","outer","err","catch","finally","createResponse","format","transform","body","options","undefined","Response","headers","set","json","JSON","stringify","getMessage","code","error","a","b","Error","message","status","withParams","obj","bind","AutoRouter","missing","f","r","StatusError","constructor","super","Object","assign","this","text","String","html","jpeg","png","webp","withContent","content","clone","formData","withCookies","cookies","split","map","p","reduce","cors","origin","credentials","allowMethods","allowHeaders","exposeHeaders","maxAge","getAccessControlOrigin","requestOrigin","test","Array","isArray","includes","Function","appendHeadersAndReturn","key","value","entries","append","corsify","preflight","join"],"mappings":"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"}